(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6137:(e,t,o)=>{Promise.resolve().then(o.bind(o,8933))},8933:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>c});var i=o(7245),n=o(8850),s=o(3680);o(7395);let l=async()=>{try{return(await s.Z.get("".concat("https://api.themoviedb.org/3","/discover/movie"),{params:{api_key:"9972c5440cf041882de4e13449359f59",include_adult:!1,include_video:!1,language:"en-US",page:1,sort_by:"popularity.desc"}})).data.results}catch(e){throw console.error("Error fetching popular movies",e),e}};var a=o(1242);function r(e){let{children:t,className:o,...n}=e;return(0,i.jsx)("button",{...n,className:(0,a.Z)("flex h-10 items-center rounded-lg bg-blue-500 px-4 text-sm font-medium text-white transition-colors hover:bg-blue-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 active:bg-blue-600 aria-disabled:cursor-not-allowed aria-disabled:opacity-50",o),children:t})}function c(){let[e,t]=(0,n.useState)(""),[o,s]=(0,n.useState)([]),a=new Date().toISOString();(0,n.useEffect)(()=>{(async()=>{s(await l())})()},[]);let c=async()=>{console.log("Hi its clicked.");try{let t=await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({movie_id:"",customer_id:"12345678",comment:e,date:a})}),o=await t.json();t.ok?console.log(o.message):console.log("Error: ".concat(o.error))}catch(e){console.log("Error: nah")}};return(0,i.jsx)("main",{className:"flex min-h-screen flex-col p-6",children:o.length>0?(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:o[0].title}),(0,i.jsx)("input",{placeholder:"Enter your comment",value:e,onChange:e=>t(e.target.value)}),(0,i.jsx)(r,{onClick:c,children:"Submit Comment"})]}):(0,i.jsx)("div",{children:"Loading..."})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[967,305,129,744],()=>t(6137)),_N_E=e.O()}]);